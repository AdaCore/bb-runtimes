<?xml version="1.0" ?>

<gprconfig>
  <configuration>
   <config>

   type Loaders is ("BAM", "EXTRAM", "FLASH");

   Loader : Loaders := external ("LOADER", "EXTRAM");

   package Compiler is
      Common_Required_Switches := ("-mfloat-gprs=single");

      for Leading_Required_Switches ("Ada") use
         Compiler'Leading_Required_Switches ("Ada") &amp;
         Common_Required_Switches;

      for Leading_Required_Switches ("C") use
         Compiler'Leading_Required_Switches ("C") &amp;
         Common_Required_Switches;
   end Compiler;

   package Linker is
      for Required_Switches use Linker'Required_Switches &amp;
         ("-L${RUNTIME_DIR(ada)}/adalib", "-lgnat") &amp;
         Compiler.Common_Required_Switches &amp;
         ("-nostdlib", "-lgcc");

      case Loader is
         when "BAM" =>
	    for Required_Switches use Linker'Required_Switches &amp;
	       ("-T", "${RUNTIME_DIR(ada)}/arch/bam.ld");
         when "EXTRAM" =>
	    for Required_Switches use Linker'Required_Switches &amp;
	       ("-T", "${RUNTIME_DIR(ada)}/arch/ram.ld");
         when "FLASH" =>
	    for Required_Switches use Linker'Required_Switches &amp;
	       ("-T", "${RUNTIME_DIR(ada)}/arch/flash.ld");
      end case;
   end Linker;

   package Binder is
      for Required_Switches ("Ada") use Binder'Required_Switches ("Ada")
         &amp; ("-nostdlib");
   end Binder;
   </config>
  </configuration>
</gprconfig>
